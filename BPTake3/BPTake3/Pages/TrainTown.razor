@inject IJSRuntime JSRuntime


@page "/StepTwo"

<h3>Puzzle Two</h3>

<p>Congratulations on making it out! How did I know? I don't! This message will be awkward if we fail... </p>

<p>If he's not reading it, who cares! No one will know you talk to yourself. Wait... I think everyone already knows that. Oh well!</p>









<p>_his is not a drive by!<br />Just a shy guy looking for a two ply<br />Hefty bag won't hold myyyy love</p>

<p>With dr_ps of Jupiter in her ear</p>

<p>The _ay you move ain't fair you know<br />Hey Soul Sister</p>

<p>Followi_g the map that leads to you</p>

<p>Two words: _____ ____</p>

<button>Find your destination below</button>

@if (LocationFound)
{
    <button>Click me once you have finished this location's activity!</button>
}


@code {
    private string? Latitude { get; set; }
    private string? Longitude { get; set; }
    private string? ErrorMessage { get; set; }
    public bool LocationFound { get; set; }

    private async Task GetLocationAsync()
    {
        try
        {
            var position = await JSRuntime.InvokeAsync<GeolocationPosition>("navigator.geolocation.getCurrentPosition");
            Latitude = position.Coords.Latitude.ToString();
            Longitude = position.Coords.Longitude.ToString();
        }
        catch (Exception ex)
        {
            ErrorMessage = $"Error retrieving location: {ex.Message}";
        }
    }

    public class GeolocationPosition
    {
        public GeolocationCoordinates Coords { get; set; } = new();
    }

    public class GeolocationCoordinates
    {
        public double Latitude { get; set; }
        public double Longitude { get; set; }
    }
}

